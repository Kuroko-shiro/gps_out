:root { --fg:#1a1a1a; --muted:#666; --bg:#fff; --panel:#f7f7f9; }
* { box-sizing: border-box; }
body { margin:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Sans", "Noto Sans JP", sans-serif; color:var(--fg); background:var(--bg); }
header { padding:16px; border-bottom:1px solid #e5e7eb; background:#fff; position:sticky; top:0; z-index:10; }
h1 { margin:0 0 8px; font-size:20px; }
.controls { display:flex; gap:12px; flex-wrap:wrap; align-items:center; }
.controls label { display:flex; gap:6px; align-items:center; font-size:14px; }
.controls input { padding:6px 8px; border:1px solid #d1d5db; border-radius:6px; }
.controls button { padding:8px 12px; border:1px solid #d1d5db; border-radius:8px; background:#fff; cursor:pointer; }
.controls button:hover { background:#f3f4f6; }
.status { margin-top:6px; color:var(--muted); font-size:13px; }

main { display:grid; grid-template-columns: 2fr 1fr; gap:16px; padding:16px; }
@media (max-width: 960px) { main { grid-template-columns:1fr; } }

.map-panel, .info-panel { background:var(--panel); border:1px solid #e5e7eb; border-radius:12px; overflow:hidden; }
#map { width:100%; height:60vh; }
.legend { padding:8px 12px; font-size:13px; color:#333; background:#fff; border-top:1px solid #e5e7eb; display:flex; gap:14px; align-items:center; }
.legend .dot { display:inline-block; width:10px; height:10px; border-radius:50%; margin-right:4px; vertical-align:middle; }
.legend .dot.stay { background:#2563eb; }
.legend .dot.visit { background:#16a34a; }
.legend .line.trip { width:24px; height:0; border-top:3px solid #ef4444; display:inline-block; margin-right:4px; }

.info-panel { padding:12px 12px 2px; }
.info-panel h2 { margin:6px 0 8px; }
.diary { white-space:pre-wrap; line-height:1.7; padding:12px; background:#fff; border:1px solid #e5e7eb; border-radius:8px; min-height:4lh; }
.summary { margin:8px 0 16px; padding-left:18px; }
summary { cursor:pointer; }
pre { white-space:pre-wrap; word-break:break-word; background:#fff; padding:8px; border:1px solid #e5e7eb; border-radius:8px; }
footer { padding:12px 16px; color:var(--muted); font-size:12px; border-top:1px solid #e5e7eb; }
